<div id="role_line_fields" class="col-12 fields nested-fields text-center tbl_row" data-holidays="<%= Holiday.all.to_json %>">
  <div class="row">
    <%= f.hidden_field :stall_id, value:  @stall.id %>
    <% if @employee %>
      <%= f.hidden_field :employee_id, value:  @employee.id %>
    <% end -%>
    <div class="col-xl-1 col-lg-12 mb-2 pt-md-3">
      <p class="d-xl-none font-weight-bold">DÃ­a</p>
      <%= f.text_field :day, class: "form-control", readonly: true %>
    </div>
    <div class="col-xl-7 col-lg-12 mb-2 pt-md-3">
      <div class="row">
        <div class="col-xl-3 col-lg-6">
          <p class="d-xl-none font-weight-bold">Fecha</p>
          <%= f.text_field :date, placeholder: "mm / dd / aaaa", autocomplete: "off", class: "form-control date", "data-date-format": 'mm/dd/yyyy', "data-provide": 'datepicker', onchange: "getDayName(this)", "data-date-autoclose": true, "data-date-language": 'es' %>
        </div>
        <div class="col-xl-3 col-lg-6">
          <p class="d-xl-none font-weight-bold">Turno</p>
          <% if @stall.quote.payment %>
            <%= f.collection_select :shift_id, @stall.quote.payment.shifts.where(active: true).order(name: :asc), :id, :name, options = {}, html_options = {class: "form-control",  title: "Seleccione un turno" }%>
          <% else %>
            <%= f.collection_select :shift_id, Payment.find(2).shifts.where(active: true).order(name: :asc), :id, :name, options = {}, html_options = {class: "form-control", title: "Seleccione un turno" }%>
          <% end %>
        </div>
        <div class="col-xl-3 col-lg-6">
          <p class="d-xl-none font-weight-bold">Sub-Puesto</p>
              <%= f.select(:substall, @substalls, {include_blank: 'Seleccione un Puesto'}, { class: "form-control" }) %>
        </div>
        <div class="col-xl-3 col-lg-6">
          <p class="d-xl-none font-weight-bold">Cargo</p>
          <% if @employee %>
            <%= f.collection_select :position_id, @employee.positions, :id, :name, options = {}, html_options = {class: "form-control", title: "Seleccione un cargo" }%>
          <% else %>
            <%= f.collection_select :position_id, [], :id, :name, options = {include_blank: 'Seleccione un cargo'}, html_options = {class: "form-control", required: true, oninvalid: "setCustomValidity('Campo Requerido')", oninput: "setCustomValidity('')", title: "Seleccione un cargo" }%>
          <% end %>
        </div>
      </div>
    </div>
    <div class="col-xl-2 col-lg-4 mb-2 pt-md-3">
      <p class="d-xl-none font-weight-bold">Horas</p>
      <%= f.text_field :hours, class: "form-control hours", placeholder: "3", onKeyUp: "hoursValidation(this)"  %>
    </div>
    <div class="col-xl-1 col-lg-4 mb-2 pt-md-3">
      <p class="d-xl-none font-weight-bold">Feriado</p>
      <%= f.check_box :holiday %>
    </div>
    <div class="col-xl-1 col-lg-4 pt-md-3">
       <p class="d-xl-none font-weight-bold">Acciones</p>
       <%= link_to_remove_association "", f, class: "fas fa-trash-alt", id: 'remove_link', style: "color: #E25141" %>
       <% if current_user.admin? %>
         <button name="btn_modal" style="background: none; border: none; color: #8068D9;" type="button" class="fas fa-comment" onclick="showModal(this)"></button>
       <% end %>
    </div>
    <%= render 'admin/roles/partials/add_payment_modal', form: f %>
  </div>
</div>