<div class="row justify-content-center" >
  <div class="col-12" style="">
    <% if flash[:notice] %>
          <div class="alert alert-success alert-dismissible fade show mt-4 d-flex justify-content-center" role="alert">
            <%= flash[:notice] %>
            <button type="button" class="close" data-dismiss="alert" aria-label="Close">
              <span aria-hidden="true">&times;</span>
            </button>
          </div>
      <% end %>
    <div class="row justify-content-center">
      <div class="col-lg-12 col-md-9 col-sm-9 col-xs-9">
        <legend class="text-left">Distribución de Oficiales en <%= @stall.name %></legend>
        <%= select_tag "role[role_line_employee]", options_from_collection_for_select(@stall.employees.where(active: true).order(name: :asc), "id", "name"), html_options = { class: "form-control mt-4", id: "employee_select", prompt: "Seleccione un Empleado" } %>
        <div id="role_lines"><%= render 'admin/roles/partials/role_lines_form' %></div>
      </div>
    </div>
  </div>
</div>

<script type="text/javascript">
  $('#employee_select').change(function(){

    var optionSelected = $("option:selected", this);
    var valueSelected = this.value;

    $.ajax({
      type: "GET",
      url: "/admin/roles/lines/<%= @role.id %>/<%= @stall.id %>/"+valueSelected,
      data:
      {
        utf8: "✓",
        ajax: true
      }
    });

  });
</script>