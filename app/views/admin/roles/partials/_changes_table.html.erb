<div class="content">
    <div class="block block-rounded block-bordered">
        <div class="block-content block-content-full">
            <table class="table table-bordered table-striped table-vcenter js-dataTable-full">
                <divead>
                    <div class="row d-none d-xl-flex">
                        <div class="th text-center font-weight-bold col-xl-2">
                          <p class="mt-2 mb-2">Fecha</p>
                        </div>
                        <div class="th text-center font-weight-bold col-xl-2">
                          <p class="mt-2 mb-2">Sub-Puesto</p>
                        </div>
                        <div class="th text-center font-weight-bold col-xl-2">
                          <p class="mt-2 mb-2">Empleado</p>
                        </div>
                        <div class="th text-center font-weight-bold col-xl-2">
                          <p class="mt-2 mb-2">Turno</p>
                        </div>
                         <div class="th text-center font-weight-bold col-xl-2">
                          <p class="mt-2 mb-2">Comentario</p>
                        </div>
                        <div class="th text-center font-weight-bold col-xl-2">
                          <p class="mt-2 mb-2">Acci√≥n</p>
                        </div>
                    </div>
                </divead>
                <tbody>
                  <% if @changes%>
                    <% @changes.each do |change| %>
                    <div class="row tb_body">
                        <div class="td text-center col-xl-2">
                            <p class="mt-2 mb-2 d-xl-none font-weight-bold">Fecha</p>
                            <% if change.action == "update" %>
                              <div class="change alert alert-danger alert-dismissible fade show mt-4 d-flex justify-content-center" role="alert" title="<%= change.role_line.date %>"><%= truncate(change.role_line.date, length: 10) %></div>
                              <div class="change alert alert-success alert-dismissible fade show mt-4 d-flex justify-content-center" role="alert" title="<%= change.date %>"><%= truncate(change.date, length: 10) %></div>
                            <% elsif change.action == "create" %>
                              <div class="change alert alert-success alert-dismissible fade show mt-4 d-flex justify-content-center" role="alert" title="<%= change.date %>"><%= truncate(change.date, length: 10) %></div>
                            <% else %>
                              <div class="change alert alert-danger alert-dismissible fade show mt-4 d-flex justify-content-center" role="alert" title="<%= change.date %>"><%= truncate(change.date, length: 10) %></div>
                            <% end %>
                        </div>
                        <div class="td text-center col-xl-2">
                            <p class="mt-2 mb-2 d-xl-none font-weight-bold ">Sub-Puesto</p>
                            <% if change.action == "update" %>
                              <div class="change alert alert-danger alert-dismissible fade show mt-4 d-flex justify-content-center" role="alert" title="<%= change.role_line.substall %>"><%= truncate(change.role_line.substall, length: 10) %></div>
                              <div class="change alert alert-success alert-dismissible fade show mt-4 d-flex justify-content-center" role="alert" title="<%= change.substall %>"><%= truncate(change.substall, length: 10) %></div>
                            <% elsif change.action == "create" %>
                              <div class="change alert alert-success alert-dismissible fade show mt-4 d-flex justify-content-center" role="alert" title="<%= change.substall %>"><%= truncate(change.substall, length: 10) %></div>
                            <% else %>
                              <div class="change alert alert-danger alert-dismissible fade show mt-4 d-flex justify-content-center" role="alert" title="<%= change.substall %>"><%= truncate(change.substall, length: 10) %></div>
                            <% end %>
                        </div>
                        <div class="td text-center col-xl-2">
                            <p class="mt-2 mb-2 d-xl-none font-weight-bold">Empleado</p>
                            <% if change.action == "update" %>
                              <div class="change alert alert-danger alert-dismissible fade show mt-4 d-flex justify-content-center" role="alert" title="<%= change.role_line.employee.name %>"><%= truncate(change.role_line.employee.name, length: 8) %></div>
                              <div class="change alert alert-success alert-dismissible fade show mt-4 d-flex justify-content-center" role="alert" title="<%= Employee.find(change.employee_id).name %>"><%= truncate(Employee.find(change.employee_id).name, length: 8)%></div>
                            <% elsif change.action == "create" %>
                              <div class="change alert alert-success alert-dismissible fade show mt-4 d-flex justify-content-center" role="alert" title="<%= Employee.find(change.employee_id).name %>"><%= truncate(Employee.find(change.employee_id).name, length: 8) %></div>
                            <% else %>
                              <div class="change alert alert-danger alert-dismissible fade show mt-4 d-flex justify-content-center" role="alert" title="<%= Employee.find(change.employee_id).name %>"><%= truncate(Employee.find(change.employee_id).name, length: 8) %></div>
                            <% end %>
                        </div>
                        <div class="td text-center col-xl-2">
                            <p class="mt-2 mb-2 d-xl-none font-weight-bold">Turno</p>
                            <% if change.action == "update" %>
                              <div class="change alert alert-danger alert-dismissible fade show mt-4 d-flex justify-content-center" role="alert" title="<%= change.role_line.shift.name %>"><%= truncate(change.role_line.shift.name, length: 8) %></div>
                              <div class="change alert alert-success alert-dismissible fade show mt-4 d-flex justify-content-center" role="alert" title="<%= Shift.find(change.shift_id).name %>"><%= truncate(Shift.find(change.shift_id).name, length: 8) %></div>
                            <% elsif change.action == "create" %>
                              <div class="change alert alert-success alert-dismissible fade show mt-4 d-flex justify-content-center" role="alert" title="<%= Shift.find(change.shift_id).name %>"><%= truncate(Shift.find(change.shift_id).name, length: 8) %></div>
                            <% else %>
                              <div class="change alert alert-danger alert-dismissible fade show mt-4 d-flex justify-content-center" role="alert" title="<%= Shift.find(change.shift_id).name %>"><%= truncate(Shift.find(change.shift_id).name, length: 8) %></div>
                            <% end %>
                        </div>
                        <div class="td text-center col-xl-2">
                            <p class="mt-2 mb-2 d-xl-none font-weight-bold">Comentario</p>
                            <% if change.action == "update" %>
                              <div class="change alert alert-danger alert-dismissible fade show mt-4 d-flex justify-content-center" role="alert" title="<%= change.role_line.comment %>"><%= truncate(change.role_line.comment, length: 8) %></div>
                              <div class="change alert alert-success alert-dismissible fade show mt-4 d-flex justify-content-center" role="alert" title="<%= change.comment %>"><%= truncate(change.comment, length: 8) %></div>
                            <% elsif change.action == "create" %>
                              <div class="change alert alert-success alert-dismissible fade show mt-4 d-flex justify-content-center" role="alert" title="<%= change.comment %>"><%= truncate(change.comment, length: 8) %></div>
                            <% else %>
                              <div class="change alert alert-danger alert-dismissible fade show mt-4 d-flex justify-content-center" role="alert" title="<%= change.comment %>"><%= truncate(change.comment, length: 8) %></div>
                            <% end %>
                        </div>
                        <div class="td text-center col-xl-2">
                          <% if change.action == "create"%>
                            <div class="mt-2 mb-2">
                              <%= link_to('Agregar', admin_approve_create_path(@role, @stall, change), class:'btn btn-sm btn-block info-btn') %>
                              <%= link_to('Descartar', admin_deny_change_path(@role, @stall, change), class:'btn btn-sm btn-block delete-btn') %>
                            </div>
                          <% elsif change.action == "update"%>
                            <div style="padding-top: 1.8rem;">
                              <%= link_to('Actualizar', admin_approve_update_path(@role, @stall, change), class:'btn btn-sm btn-block info-btn') %><br>
                              <%= link_to('Descartar', admin_deny_change_path(@role, @stall, change), class:'btn btn-sm btn-block delete-btn mt-2 mb-2') %>
                            </div>
                          <% else %>
                            <div class="mt-2 mb-2">
                              <%= link_to('Borrar', admin_approve_destroy_path(@role, @stall, change), class:'btn btn-sm btn-block info-btn') %>
                              <%= link_to('Descartar', admin_deny_change_path(@role, @stall, change), class:'btn btn-sm btn-block delete-btn') %>
                            </div>
                          <% end %>
                        </div>
                    </div>
                    <% end -%>
                  <% end -%>
                </tbody>
            </table>
        </div>
    </div>
</div>